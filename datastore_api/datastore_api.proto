// ***************************** SHOULD ONLY BE UPDATED/CHANGED TROUGH OUR PROTOREPO **********************************

syntax = "proto3";
option csharp_namespace = "Cbs.DataStore.Api";

import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

service GrpcDataStoreApi {
	rpc IndexDataNode (IndexDataNodeRequest) returns (IndexDataNodeReply);
    rpc GetTheme(GetThemeRequest) returns (GetThemeResponse);
    rpc GetContent(GetContentRequest) returns (GetContentResponse);
	rpc GetIdentityContent(GetIdentityContentRequest) returns (GetContentResponse);
	rpc LoadDnHierarchy (LoadDnHierarchyRequest) returns (LoadDnHierarchyReply);
}

message IndexDataNodeRequest {
	string data_node_id = 1;
	bool update = 2;
	bool instant_indexing = 3;
}

message IndexDataNodeReply {	
}

message GetThemeRequest {
	string resourceGroupId = 1;
	string applicationId = 2;
	string theme_namespace = 3;
}

message GetThemeResponse { 
	string json = 1;
}

message GetContentRequest {
	string resourceGroupId = 1;
	string applicationId = 2;
	string portalType = 3;
}

message GetIdentityContentRequest {
	string resourceGroupId = 1;
	string applicationId = 2;
	string application_namespace = 3;
}

message GetContentResponse { 
	string json = 1;
}

message LoadDnHierarchyRequest {
  string resourceGroupId = 1;
  string actorId = 2;
  string namespace = 3;
}

message LoadDnHierarchyReply {
  string result = 1;
}