syntax = "proto3";

option csharp_namespace = "Chat.Api";

service ChatApi {
  rpc Login (LoginRequest) returns (LoginReply);
  rpc CreateChat (CreateChatRequest) returns (CreateChatReply);
  rpc JoinChat (JoinChatRequest) returns (JoinChatReply);
  rpc LeaveChat (LeaveChatRequest) returns (LeaveChatReply);
  rpc DeleteChat (DeleteChatRequest) returns (DeleteChatReply);
  rpc GetChat (GetChatRequest) returns (GetChatReply);
}

message LoginRequest {
  string actor_id = 1;
}

message LoginReply {
  string password = 1;
  string actor_id = 2;
  string server_url = 3;
}

message JoinChatRequest {
  string datanode_id = 1;
  string actor_id = 2;
}

message JoinChatReply {
}

message LeaveChatRequest {
  string datanode_id = 1;
  string actor_id = 2;
}

message LeaveChatReply {
}

message CreateChatRequest {
  string datanode_id = 1;
  repeated string actor_ids = 2;
}

message CreateChatReply {
  string chat_id = 2;
  string chat_name = 3;
}

message DeleteChatRequest {
  string datanode_id = 1;
}

message DeleteChatReply {
}

message GetChatRequest {
  string datanode_id = 1;
}

message GetChatReply {
  string datanode_id = 1;
  string chat_id = 2;
  string chat_name = 3;
  repeated string actor_ids = 4;
}